---
name: wechat-red-envelope-cover-designer
description: 红包封面设计，微信红包封面设计技能,生成符合微信红包封面开放平台规范的封面设计图片，包括封面图、封面挂件、气泡挂件和封面故事素材。这个技能可以帮助用户从零开始设计符合微信红包封面平台标准的完整素材套件，确保所有素材都能顺利通过平台审核，并呈现出专业、喜庆的视觉效果。
---


## 技能概述

**技能名称：**  wechat-red-envelope-cover-designer
**核心功能：**  生成符合微信红包封面开放平台规范的封面设计图片，包括封面图、封面挂件、气泡挂件和封面故事素材。
**适用场景：**

- 春节、中秋、情人节、七夕、圣诞、生日、元宵、端午、元旦、国庆等节日主题红包封面设计
- 自定义品牌活动主题红包封面设计
- 企业或个人定制红包封面需求

## 完整工作流程

```plaintext
需求确认 → 制定设计方案 → 生成封面图片 → 交付与审核提醒
```

## 阶段一：需求确认

在开始设计前，必须与用户确认以下关键信息：

### 1. 基础信息确认

**封面主题：**

- 节日类型选择：春节、中秋、情人节、七夕、圣诞、生日、元宵、端午、元旦、国庆
- 或品牌活动主题

**封面简称：**

- 最多8个字
- 显示在红包封面上
- 可以是：企业名称字号、公众号名称、视频号名称、注册商标

**是否需要品牌logo：**

- 是/否
- 如果是，需要提供logo文件（200×200px，≤100KB）

**目标受众：**

- 普通用户
- 企业客户
- 特定群体

### 2. 设计风格确认

**整体风格选择：**

- 国潮（传统元素+现代设计）
- 简约
- 插画
- 3D立体
- 扁平化
- 手绘
- Q萌可爱
- 复古
- 其他自定义风格

**主色调偏好：**

- 红金色系（适合春节、国庆等喜庆节日）
- 粉紫色系（适合情人节、七夕）
- 蓝白色系（适合中秋、冰雪主题）
- 绿色系（适合端午、环保主题）
- 自定义颜色描述

**元素偏好：**

- 传统元素（祥云、纹样、窗花等）
- 现代元素（几何图形、抽象设计等）
- 吉祥物
- 抽象图案
- 特定IP形象

### 3. 素材需求确认

**用户选择需要生成的素材：**

- ☑️ 封面图（必需素材）
- ☐ 封面挂件（可选素材）
- ☐ 气泡挂件（可选素材）
- ☐ 封面故事图片（可选素材，最多5张）

### 4. 特殊需求确认

**是否包含人物肖像：**

- 如果是，需要提供肖像权授权书（授权有效期需≥提审后6个月）

**是否使用注册商标：**

- 如果是，需要提供商标注册证

**是否包含版权素材：**

- 如果是，需要提供版权授权书（授权有效期需≥提审后6个月）

## 阶段二：制定设计方案

根据用户确认的需求，向用户展示完整的设计方案：

### 方案展示格式

```plaintext
【设计方案】
━━━━━━━━━━━━━━━━━━━━━━━━
🎨 主题：[主题名称]
📝 封面简称：[简称]（≤8字）
🎯 设计风格：[风格描述]
🎨 主色调：[色彩方案]

📦 素材清单：
1. ☑️ 封面图（必需）- 957×1278像素
2. ☐ 封面挂件（可选）- 1053×1746像素
3. ☐ 气泡挂件（可选）- 480×384像素
4. ☐ 封面故事图片（可选）- 750×1250像素 × [数量]
━━━━━━━━━━━━━━━━━━━━━━━━
```

### 方案确认

- 用户确认设计方案无误后，进入下一阶段
- 如有修改需求，调整后再次确认
- 确认后方可开始生成图片

## 阶段三：生成封面图片

严格按照以下顺序和规范生成各类素材：

### 生成顺序

1. **封面图**（必需）- 957×1278px
2. **封面挂件**（可选）- 1053×1746px
3. **气泡挂件**（可选）- 480×384px
4. **封面故事图**（可选）- 750×1250px

### 图片生成步骤

#### 步骤1：选择提示词模板

**如果是节日主题：**

- 使用 `references/festival-prompts.md` 中对应的节日专属提示词
- 确保使用与节日匹配的元素和配色方案

**如果是自定义主题：**

- 使用 `references/prompt-templates.md` 中的通用模板
- 根据用户需求替换变量，补充细节

#### 步骤2：构建完整提示词

根据选择的模板，替换以下变量：

- `[用户选择的风格]`：替换为用户确认的具体风格
- `[主色调]`：替换为用户确认的配色方案
- `[主题描述]`：替换为具体的主题名称
- `[核心视觉元素描述]`：替换为用户确认的核心元素（如生肖形象、动物等）
- `[背景设计]`：替换为具体的背景描述
- `[装饰性元素]`：替换为用户确认的装饰元素

#### 步骤3：强调关键构图规则

- 使用 `references/dimension-specs.md` 中的尺寸规范文件的详细说明

在提示词中必须包含尺寸规范文件中的相关规则，例如以下说明：

**封面图构图规则：**

- 画面上方25%区域保持相对简洁干净（该区域将显示用户头像、昵称和祝福语）
- 主要视觉元素集中在画面中部和下部
- 上方区域避免复杂图案，确保白色文字清晰可读
- 画面底部15%可能被遮挡，避免放置关键元素

**封面挂件构图规则：**
- 说明：挂件应是一个图案或图标，具备一定的造型和装饰纹样，不应是单一的线条或线框。封面挂件会和封面图一起展示在拆红包页。
- 尺寸：1053×1746像素，宽高比约3:5
- 安全区域：上方75%为设计区域，下方25%必须空白
- 设计元素必须位于画面上方75%区域内
- 画面下方25%必须保持完全空白/透明（不可编辑区域）
- 挂件应是一个图案或图标，具备一定的造型和装饰纹样，不应是单一的线条或线框。

**气泡挂件构图规则：**
  - 挂件应是一个图案或图标，具备一定的造型和装饰纹样，不应是单一的线条或线框。气泡挂件会和封面图一起展示在红包气泡上。
  - 尺寸：480×384像素，宽高比5:4
- 设计元素必须位于画面上方60%区域内
- 画面下方40%必须保持空白（预留给"微信红包"文字显示）

**封面故事图构图规则：**
- 说明：封面故事将在红包详情页展示，用于讲述品牌、团队、封面创作背后的故事，让品牌文化更好地传递。
- 尺寸：750×1250像素，宽高比3:5
- 画面顶部和底部各10%可能在部分设备上被裁切
- 关键元素集中在画面中央80%区域
- 底部预留空间用于可选的故事描述文字叠加

#### 步骤4：强调禁止元素

在提示词中必须包含以下禁止内容：

- 不包含任何文字、水印或logo
- 不包含二维码、条形码或联系方式
- 不包含真实人物照片或肖像
- 不包含品牌商品图片或广告元素
- 不包含政治、宗教或争议性符号
- 内容适合全年龄段用户

#### 步骤5：调用图片生成工具

- 使用 `scripts/generate_image` 工具生成初始图片，使用命令样例如下：

  ```
  node scripts/generate_image.js -p "日落山脉风景" -f "sunset.png" -a 1:1 -r 2K
  ```

  命令解释如下：

  | 参数                    | 必填 | 说明                                                         |
  | ----------------------- | ---- | ------------------------------------------------------------ |
  | `-p` / `--prompt`       | 是   | 图片描述（文生图）或编辑指令（图生图）。保留用户原始完整输入。 |
  | `-f` / `--filename`     | 否   | 输出图片路径/文件名；不传则自动生成带时间戳的 PNG 文件名，并写入当前目录。 |
  | `-a` / `--aspect-ratio` | 否   | 图片比例：`1:1`、`16:9`、`9:16`、`4:3`、`3:4`、`3:2`、`2:3`、`5:4`、`4:5`、`21:9`。 |
  | `-r` / `--resolution`   | 否   | 图片分辨率：`1K` / `2K` / `4K`（必须大写）。不传则不在请求中指定，由 API 侧决定。 |
  | `-i` / `--input-image`  | 否   | 图生图输入图片路径；可传多张（最多 14 张）。传入该参数即进入编辑模式。 |

- 根据素材类型设置合适的描述

- 每次调用可以生成多张图片以提高质量

#### 步骤6：调整图片尺寸并自动压缩

使用 `scripts/resize_cover.js` 脚本对生成的图片进行精确裁剪、尺寸调整和智能压缩：

**脚本功能：**
- 自动居中裁剪，保持目标比例
- **智能压缩**：自动调整质量直到满足微信大小限制
- 支持批量生成所有尺寸
- 自动检查文件大小限制
- 挂件类自动使用PNG透明背景
- 显示安全区域提示

**微信大小限制：**
- 封面图：≤500KB
- 封面挂件：≤300KB（PNG透明）
- 气泡挂件：≤300KB（PNG透明）
- 封面故事：≤300KB

**使用方法：**

1. **安装依赖**
   ```bash
   cd scripts
   npm install
   ```

2. **单类型裁剪（自动压缩）**
   ```bash
   # 生成封面图（自动压缩到≤500KB）
   node resize_cover.js <输入图片> cover
   
   # 生成封面挂件（自动压缩到≤300KB，透明背景）
   node resize_cover.js <输入图片> hang
   
   # 生成气泡挂件（自动压缩到≤300KB，透明背景）
   node resize_cover.js <输入图片> bubble
   
   # 生成封面故事（自动压缩到≤300KB）
   node resize_cover.js <输入图片> story
   ```

3. **批量生成所有尺寸**
   ```bash
   node resize_cover.js <输入图片> all [输出目录]
   ```

4. **指定输出路径**
   ```bash
   node resize_cover.js <输入图片> <类型> <输出路径>
   ```

**支持的尺寸：**
- 封面图：957×1278px（3:4）
- 封面挂件：1053×1746px（3:5，下方25%留白，PNG透明）
- 气泡挂件：480×384px（5:4，下方40%留白，PNG透明）
- 封面故事：750×1250px（3:5）

**智能压缩策略：**

脚本会自动尝试多种压缩策略直到满足限制：

- **非透明图片**（封面图、故事图）：
  - JPEG质量调整：90% → 85% → ... → 55%
  - 使用mozjpeg优化编码
  - 必要时降低分辨率

- **透明图片**（挂件类）：
  - 8-bit调色板PNG
  - 降低调色板质量
  - 限制颜色数量（128色）
  - 最大压缩级别
  - 必要时降低分辨率

**输出示例：**
```
📸 封面图
   原始: 1920×1080px, 2450.50KB
   目标: 957×1278px, ≤500KB
   裁剪: 1438×1080px → 957×1278px
   ✅ 已保存: ./output/cover.jpg
      大小: 485.32KB / 500KB
      压缩: jpeg, 质量75%
```

#### 步骤7：处理透明背景（仅挂件）

- 对于封面挂件和气泡挂件
- 确保背景为透明（PNG格式）
- 元素必须位于规定的安全区域内

## 阶段四：交付与审核提醒

完成所有素材生成后，向用户提供完整的交付清单和审核提醒：

### 交付清单格式

```plaintext
【交付清单】
━━━━━━━━━━━━━━━━━━━━━━━━
✅ 封面图 (957×1278px)，文件名称
   └─ 格式：PNG/JPG，≤500KB

☐ 封面挂件 (1053×1746px)，文件名称
   └─ 格式：PNG透明背景，≤300KB

☐ 气泡挂件 (480×384px)，文件名称
   └─ 格式：PNG透明背景，≤300KB

☐ 封面故事图片 (750×1250px) × [数量]，文件名称
   └─ 格式：PNG/JPG，≤300KB每张

📋 提交审核提醒：
- [ ] 准备封面简称（≤8字）
- [ ] 准备品牌logo（如需，200×200px，≤100KB）
- [ ] 准备证明材料（如涉及商标/肖像/版权）
- [ ] 授权有效期需≥提审后6个月
━━━━━━━━━━━━━━━━━━━━━━━━
```

### 审核前自检提醒

提醒用户在提交审核前进行以下检查：

1. **内容合规性检查**
   - 不包含任何法律禁止内容
   - 不包含政治敏感内容
   - 不包含联系方式和引流信息
   - 不包含商业推广内容
   - 不侵犯他人版权、商标、肖像权
2. **设计质量检查**
   - 画面清晰锐利，无模糊、锯齿
   - 色彩搭配和谐统一
   - 构图平衡，焦点明确
   - 文件大小符合要求
   - 尺寸精确无误
3. **安全区域检查**
   - 封面图上方25%区域简洁干净
   - 封面图底部15%无关键元素
   - 封面挂件元素在上方75%区域
   - 气泡挂件元素在上方60%区域
4. **格式要求检查**
   - 封面图：PNG/JPG，≤500KB，957×1278px
   - 封面挂件：PNG透明，≤300KB，1053×1746px
   - 气泡挂件：PNG透明，≤300KB，480×384px
   - 封面故事：PNG/JPG，≤300KB/张，750×1250px

## 工作流程的关键原则

### 1. 循序渐进

- 每个阶段完成后才能进入下一阶段
- 必须在用户确认设计方案后才能开始生成图片
- 确保每个步骤都符合规范要求

### 2. 遵循规范

- 严格遵循 `references/dimension-specs.md` 中的尺寸规范
- 严格遵循 `references/prompt-templates.md` 和 `references/festival-prompts.md` 中的提示词模板
- 严格遵循 `references/audit-standards.md` 中的审核标准

### 3. 风格统一

- 所有素材（封面图、挂件、故事图）必须使用统一的设计语言
- 色彩、风格、元素选择要协调一致
- 形成完整的视觉体系

### 4. 安全优先

- 始终以审核通过率为首要目标
- 任何不确定的内容都不要使用
- 保持内容积极向上、健康正面

### 5. 用户确认

- 每个关键阶段都需要用户确认
- 用户的满意度是最终目标
- 根据用户反馈及时调整

## 常见场景处理

### 场景1：用户选择节日主题

1. 从 `references/festival-prompts.md` 中选择对应的节日模板
2. 使用节日专属的元素和配色方案
3. 按照节日主题的设计要求生成素材

### 场景2：用户有自定义品牌需求

1. 使用 `references/prompt-templates.md` 中的通用模板
2. 融入用户的品牌元素（logo、品牌色等）
3. 提醒用户准备商标注册证等证明材料

### 场景3：用户需要所有素材

1. 按照顺序生成：封面图 → 封面挂件 → 气泡挂件 → 封面故事图
2. 确保每张图片都符合对应的尺寸规范
3. 保持所有素材的风格统一

### 场景4：用户只需要封面图

1. 仅生成封面图（957×1278px）
2. 确保构图符合安全区域要求
3. 重点优化封面图的视觉效果

## 技能目录文件结构

**核心功能：**  存放技能运行所需的参考文档、模板和规范文件，为微信红包封面设计提供标准化的指导依据。

```
├── SKILL.md                           # 技能主文件，包含完整的工作流程和使用说明
└── scripts                            # 脚本文件夹
      README.md
└── references/                        # 参考文档文件夹
    ├── dimension-specs.md             # 尺寸规范文档
    ├── prompt-templates.md            # 通用提示词模板
    ├── festival-prompts.md            # 节日专属提示词
    └── audit-standards.md             # 审核标准文档

```

## references文件清单及用途说明

### 1. dimension-specs.md（尺寸规范文档）

**文档作用：**  定义微信红包封面各类素材的精确尺寸规格和设计要求

### 2. prompt-templates.md（通用提示词模板）

**文档作用：**  提供各类素材的通用提示词模板，确保生成的图片符合微信红包封面规范

### 3. festival-prompts.md（节日专属提示词）

**文档作用：**  为不同节日提供专属的提示词模板，包含节日特定的元素、配色方案和设计要求

### 4. audit-standards.md（审核标准文档）

**文档作用：**  详细说明微信红包封面的审核标准和禁止内容，确保生成的素材能够通过平台审核

## references文件使用原则

1. **优先使用节日专属模板**
   - 当用户选择节日主题时，优先使用 festival-prompts.md 中的对应模板
   - 确保节日元素和配色方案符合节日特色
2. **通用模板作为补充**
   - 当用户有自定义需求或节日专属模板不完全匹配时，使用 prompt-templates.md 中的通用模板
   - 根据用户需求替换变量，补充细节
3. **严格遵守尺寸规范**
   - 所有素材必须严格按照 dimension-specs.md 中的尺寸要求生成
   - 特别注意构图安全区域，确保文字可读性
4. **始终遵循审核标准**
   - 所有设计必须符合 audit-standards.md 中的要求
   - 避免使用任何禁止内容
   - 确保内容适合全年龄段用户
5. **风格保持一致**
   - 所有素材（封面图、挂件、故事图）必须使用统一的设计语言
   - 色彩、风格、元素选择要协调

